<?xml version="1.0" encoding="utf-8" ?>
<log4net>
<appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
  <param name="File" value="App_Data/Logs/" />
  <param name="AppendToFile" value="true" />
  <!--log保留天数-->
  <param name="MaxSizeRollBackups" value="30" />
  <!--日志文件名是否是固定不变的-->
  <param name="StaticLogFileName" value="false" />
  <!--日志文件格式-->
  <param name="DatePattern" value="yyyy-MM-dd.HH'.log'" />
  <!-- 日志根据日期滚动-->
  <param name="RollingStyle" value="Date" />
  <layout type="log4net.Layout.PatternLayout" >
    <param name="ConversionPattern" value="%-5level %date [%-5.5thread] %-40.40logger - %message%newline" />
  </layout>
</appender>

<!-- 控制台前台显示日志 -->
<appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
  <mapping>
    <level value="ERROR" />
    <foreColor value="Red, HighIntensity" />
  </mapping>
  <mapping>
    <level value="Info" />
    <foreColor value="Green" />
  </mapping>
  <layout type="log4net.Layout.PatternLayout">
    <conversionPattern value="%n%date{HH:mm:ss,fff} [%-5level] %m" />
  </layout>

  <filter type="log4net.Filter.LevelRangeFilter">
    <param name="LevelMin" value="Info" />
    <param name="LevelMax" value="Fatal" />
  </filter>
</appender>

<root>
  <level value="all" />
  <appender-ref ref="ColoredConsoleAppender"/>
  <appender-ref ref="RollingLogFileAppender"/>
</root>
</log4net>