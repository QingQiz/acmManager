@using acmManager.Authorization
@model acmManager.Web.Models.Admin.IndexViewModel
@{
    var canCreateUser = IsGranted(PermissionNames.PagesUsers_Create);
}

<div class="row">
    <div class="col-lg-3 userCard">
        <div class="wizard">
            <nav class="list-group list-group-flush">
                <a class="list-group-item" href="#user-management" data-toggle="pill">
                    <img src="~/img/profile.svg" alt=""> 用户管理
                </a>
                <a class="list-group-item" href="#user-promote" data-toggle="pill">
                    <img src="~/img/up.svg" alt=""> 队员转正
                </a>
                @if (canCreateUser) {
                    <a class="list-group-item" href="#user-create" data-toggle="pill">
                        <img src="~/img/user.svg" alt=""> 添加用户
                    </a>
                }
                <a class="list-group-item" href="#profile-change-password" data-toggle="pill">
                    <img src="~/img/edit.svg" alt=""> Nothing Yet
                </a>
            </nav>
        </div>
    </div>
    <div class="col-lg-9 tab-content">
        <!-- User Management -->
        <div class="tab-pane fade show active" id="user-management">
            @await Html.PartialAsync("User/GetAllUserPartial/_UserFilter")
            <div id="get-all-user-table"> </div>
        </div>
        
        <!-- Settings -->
        <div class="tab-pane fade" id="user-promote">
            @await Html.PartialAsync("User/UserPromotePartial/_UserFilter")
            <div id="user-promote-table"> </div>
        </div>

        @if (canCreateUser)
        {
            <!--  Create User -->
            <div class="tab-pane fade" id="user-create">
                @await Html.PartialAsync("User/_CreateUser")
            </div>
            
        }

        <!-- Change Password-->
        <div class="tab-pane fade" id="profile-change-password">
        </div>
    </div>
</div>