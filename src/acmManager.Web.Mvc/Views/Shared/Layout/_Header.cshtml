@using Abp.Runtime.Session
@using acmManager.File
@using acmManager.Web.Controllers
@inject FileAppService FileAppService
@{
    ViewBag.UserPhoto = (await FileAppService.GetUserPhotoAsync(AbpSession.GetUserId()))?.FilePath ?? UserController.DefaultUserPhoto;
}
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <h5 class="my-0 mr-md-auto font-weight-normal" onclick="location.href = '/'">acmManager</h5>
    <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark underlineHover" href="#">题目推荐</a> <span>|</span>
        <a class="p-2 text-dark underlineHover" href="#">公告</a> <span>|</span>
        <a class="p-2 text-dark underlineHover" href="#">比赛列表</a> <span>|</span>
        <a class="p-2 text-dark underlineHover" href="#">博客</a> <span>|</span>
    </nav>
    <div class="dropdown">
        <button class="btn btn-default" type="button" id="menu1" data-toggle="dropdown">
            <img src="@ViewBag.UserPhoto" alt="" class="userPhoto">
        </button>
        <div class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="menu1">
            <button class="dropdown-item" onclick="window.location.href = '@Url.Action("UserProfile", "User")'">
                <img src="~/img/profile.svg" alt=""> 我的资料
            </button>
            <button class="dropdown-item">
                <img src="~/img/home.svg" alt=""> 我的主页
            </button>
            <button class="dropdown-item">
                <img src="~/img/blog.svg" alt=""> 我的博客
            </button>
            <button class="dropdown-item">
                <img src="~/img/contest.svg" alt=""> 我的比赛
            </button>
            <button class="dropdown-item">
                <img src="~/img/certificate.svg" alt=""> 我的证书
            </button>
            <hr/>
            <button class="dropdown-item" onclick="window.location.replace('@Url.Action("Logout", "Account")')">
                <img src="~/img/logout.svg" alt=""> 登出
            </button>
        </div>
    </div>
</div>